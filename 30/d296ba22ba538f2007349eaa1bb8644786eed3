r31778 trunk